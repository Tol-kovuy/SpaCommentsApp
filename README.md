# SpaApp

## О решении

Это многоуровневое стартовое решение, основанное на принципах [Domain Driven Design (DDD)](https://abp.io/docs/latest/framework/architecture/domain-driven-design). Все основные модули ABP уже установлены. Для получения дополнительной информации ознакомьтесь с документацией [Application Startup Template](https://abp.io/docs/latest/solution-templates/layered-web-application).

### Предварительные требования

* [.NET 9.0+ SDK](https://dotnet.microsoft.com/download/dotnet)
* [Node.js v18 или v20](https://nodejs.org/en)

### Конфигурация

Решение поставляется с конфигурацией по умолчанию, которая работает "из коробки". Однако перед запуском решения вы можете изменить следующие настройки:

* Проверьте `ConnectionStrings` в файлах `appsettings.json` в проектах `SpaApp.HttpApi.Host` и `SpaApp.DbMigrator` и при необходимости измените их.

### Перед запуском приложения

* Выполните команду `abp install-libs` в папке решения для установки клиентских зависимостей пакетов. Этот шаг выполняется автоматически при создании нового решения, если вы специально не отключили его. Однако вы должны выполнить его самостоятельно, если впервые клонировали это решение из системы контроля версий или добавили новую клиентскую зависимость пакета в свое решение.
* Запустите `SpaApp.DbMigrator` для создания начальной базы данных. Этот шаг также выполняется автоматически при создании нового решения, если вы специально не отключили его. Это должно быть выполнено при первом запуске. Это также необходимо, если в решение позже добавляется новая миграция базы данных.

#### Генерация сертификата подписи

В производственной среде необходимо использовать производственный сертификат подписи. ABP Framework настраивает сертификаты подписи и шифрования в вашем приложении и ожидает файл `openiddict.pfx` в вашем приложении.

Для генерации сертификата подписи вы можете использовать следующую команду:

```bash
dotnet dev-certs https -v -ep openiddict.pfx -p 96dac333-36eb-472d-80ae-4f8d01ed78b3

> `96dac333-36eb-472d-80ae-4f8d01ed78b3` - это пароль сертификата, вы можете изменить его на любой пароль.

Рекомендуется использовать **два** RSA-сертификата, отличных от сертификатов, используемых для HTTPS: один для шифрования, другой для подписи.

Для получения дополнительной информации обратитесь к: [OpenIddict Certificate Configuration](https://documentation.openiddict.com/configuration/encryption-and-signing-credentials.html#registering-a-certificate-recommended-for-production-ready-scenarios)

> Также ознакомьтесь с документацией [Configuring OpenIddict](https://abp.io/docs/latest/Deployment/Configuring-OpenIddict#production-environment) для получения дополнительной информации.

### Структура решения

Это многоуровневое монолитное приложение, которое состоит из следующих приложений:

* `SpaApp.DbMigrator`: Консольное приложение, которое применяет миграции, а также заполняет начальные данные. Оно полезно как в среде разработки, так и в производственной среде.
* `SpaApp.HttpApi.Host`: Приложение ASP.NET Core API, которое используется для предоставления API клиентам.
* `angular`: Angular приложение.

## Развертывание приложения

Развертывание приложения ABP следует тому же процессу, что и развертывание любого приложения .NET или ASP.NET Core. Однако есть важные моменты, которые следует учитывать. Для получения подробных инструкций обратитесь к [документации по развертыванию ABP](https://abp.io/docs/latest/Deployment/Index).

### Дополнительные ресурсы

#### Внутренние ресурсы

Вы можете найти подробные руководства по настройке и конфигурации для вашего решения ниже:

* [Angular](./angular/README.md)

#### Внешние ресурсы

Вы можете ознакомиться со следующими ресурсами, чтобы узнать больше о вашем решении и ABP Framework:

* [Web Application Development Tutorial](https://abp.io/docs/latest/tutorials/book-store/part-1)
* [Application Startup Template](https://abp.io/docs/latest/startup-templates/application/index)
